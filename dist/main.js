!function(e){var o={};function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,o,t){r.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,o){if(1&o&&(e=r(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var n in e)r.d(t,n,function(o){return e[o]}.bind(null,n));return t},r.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(o,"a",o),o},r.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},r.p="",r(r.s=0)}([function(e,o,r){"use strict";function t(e,o,r,t,n){for(var u=t;u<n;u++)r[u]+=e.power,o[u].push(e.id)}function n(e,o,r,t,n){for(;o[r]+e.power>n&&r+e.duration<=t;)r+=1;if(r+e.duration===t+1)throw"Oops! It seems that "+e.name.toLowerCase()+" requires too much power :("}function u(e,o,r,t,n){for(var u=e;u<=o-r+1;u++){for(var a=0,i=0;a<r;)i+=t[u+a],a++;n.push(i)}}function a(e,o,r,a,i,d){var l=i.duration,c=[];try{if(r<a){n(i,o,r,a,f),u(r,a,l,e,c),t(i,d,o,p=r+c.indexOf(Math.min.apply(null,c)),p+l)}else{n(i,o,a,o.length+r,f);var s=function(e,o){for(var r=[],t=0;t<e.length+o+1;t++)t<e.length?r[t]=e[t]:r[t]=e[t-e.length];return r}(e,a);u(r,s.length-1,l,s,c);var p,m=(p=r+c.indexOf(Math.min.apply(null,c)))<e.length?p:p-e.length,h=p+l<e.length?p+l:p+l-e.length;m<h?t(i,d,o,m,h):(t(i,d,o,m,o.length),t(i,d,o,0,h))}}catch(e){console.error(e)}}r.r(o),r.d(o,"MAX_POWER",function(){return f});var i={devices:[{id:"F972B82BA56A70CC579945773B6866FB",name:"Посудомоечная машина",power:950,duration:3,mode:"night"},{id:"C515D887EDBBE669B2FDAC62F571E9E9",name:"Духовка",power:2e3,duration:2,mode:"day"},{id:"02DDD23A85DADDD71198305330CC386D",name:"Холодильник",power:50,duration:24},{id:"1E6276CC231716FE8EE8BC908486D41E",name:"Термостат",power:50,duration:24},{id:"7D9DC84AD110500D284B33C82FE6E85E",name:"Кондиционер",power:850,duration:1}],rates:[{from:7,to:10,value:6.46},{from:10,to:17,value:5.38},{from:17,to:21,value:6.46},{from:21,to:23,value:5.38},{from:23,to:7,value:1.79}],maxPower:2100};const f=i.maxPower;var d=function(e){var o=e.devices,r=e.rates;try{!function(e){e.forEach(e=>{if(e.from<0||e.from>23||e.to<0||e.to>23)throw"Oops! Input times for rates must be from 0 to 23";if(e.value<0)throw"Oops! Input value must be larger than 0"})}(r),function(e){e.forEach(e=>{if(e.power<0||e.duration<0||e.duration>24)throw"Oops! "+e.name+" must have power and duration larger than 0 and duration must be less than 24";if(e.mode&&"day"!==e.mode&&"night"!==e.mode)throw"Oops! "+e.mode+" is not valid mode property"})}(o);for(var t={},n=[],u=function(e){for(var o=[],r=0;r<24;r++)for(var t=0;t<e.length;t++)r<e[t].to&&r>=e[t].from?o[r]=e[t].value:e[t].from>e[t].to&&(r<e[t].to||r>=e[t].from)&&(o[r]=e[t].value);return o}(r),i=0;i<24;i++)t[i]=[],n[i]=0;o=function(e){return e.sort(function(e,o){return e.power>o.power?-1:e.power<o.power?1:0})}(o),console.log(o),function(e,o,r){e.forEach(e=>{24===e.duration&&Object.keys(o).forEach(function(t,n){o[t].push(e.id),r[n]+=e.power})})}(o,t,n),function(e,o,r,t){e.forEach(e=>{24!==e.duration&&("night"===e.mode?a(t,r,21,7,e,o):"day"===e.mode?a(t,r,7,21,e,o):a(t,r,0,23,e,o))})}(o,t,n,u),Object.keys(t).forEach(function(e){t[e].sort()});var f={},d=0;for(i=0;i<o.length;i++){for(var l=0;l<Object.keys(t).length;l++)t[l].forEach(e=>{e===o[i].id&&(f[e]?f[e]=(Number(f[e])+o[i].power*u[l]/1e3).toFixed(4):f[e]=(o[i].power*u[l]/1e3).toFixed(4))});f[o[i].id]&&(d+=Number(f[o[i].id]))}return{schedule:t,consumedEnergy:{value:d.toFixed(4),devices:f}}}catch(e){console.error(e)}}(i);console.log(d)}]);